{"version":3,"sources":["../../../dist-esnext/prods/domain/updateProduct.test.js"],"names":["assert","Product","describe","dbProduct","newProduct","updatedProduct","beforeEach","createProduct","id","name","category","price","createdBy","dtCreated","Date","ip","user","userName","displayName","email","it","notEqual","dtChanged","ok","equal"],"mappings":";;AAAA;;IAAYA,M;;AACZ;;IAAYC,O;;AACZ;;;;AACAC,SAAS,eAAT,EAA0B,YAAM;AAC5B,QAAIC,SAAJ,EAAeC,UAAf,EAA2BC,cAA3B;AACAC,eAAW,YAAM;AACbH,oBAAYF,QAAQM,aAAR,CAAsB;AAC9BC,gBAAI,OAD0B;AAE9BC,kBAAM,gBAFwB;AAG9BC,sBAAU,sBAHoB;AAI9BC,mBAAO,GAJuB;AAK9BC,uBAAW;AACPC,2BAAW,IAAIC,IAAJ,CAAS,YAAT,CADJ;AAEPC,oBAAI;AAFG;AALmB,SAAtB,CAAZ;AAUAX,qBAAaH,QAAQM,aAAR,CAAsB;AAC/BC,gBAAI,OAD2B;AAE/BC,kBAAM,gBAFyB;AAG/BC,sBAAU,uBAHqB;AAI/BC,mBAAO,GAJwB;AAK/BC,uBAAW;AACPC,2BAAW,IAAIC,IAAJ,CAAS,YAAT,CADJ;AAEPC,oBAAI,aAFG;AAGPC,sBAAM;AACFC,8BAAU,aADR;AAEFC,iCAAa,cAFX;AAGFC,2BAAO,sBAHL;AAIFX,wBAAI;AAJF;AAHC;AALoB,SAAtB,CAAb;AAgBAH,yBAAiB,kCAAcF,SAAd,EAAyBC,UAAzB,CAAjB;AACH,KA5BD;AA6BAgB,OAAG,sBAAH,EAA2B,YAAM;AAC7BpB,eAAOqB,QAAP,CAAgBjB,WAAWI,EAA3B,EAA+BH,eAAeG,EAA9C;AACH,KAFD;AAGAY,OAAG,6BAAH,EAAkC,YAAM;AACpCpB,eAAOqB,QAAP,CAAgBjB,WAAWQ,SAA3B,EAAsCP,eAAeO,SAArD;AACH,KAFD;AAGAQ,OAAG,yBAAH,EAA8B,YAAM;AAChChB,mBAAWkB,SAAX,GAAuB,IAAIR,IAAJ,CAAS,YAAT,CAAvB;AACAd,eAAOuB,EAAP,CAAUlB,eAAeiB,SAAzB;AACAtB,eAAOuB,EAAP,CAAUlB,eAAeiB,SAAf,GAA2BlB,WAAWkB,SAAhD;AACH,KAJD;AAKAF,OAAG,sBAAH,EAA2B,YAAM;AAC7BhB,mBAAWkB,SAAX,GAAuB,IAAvB;AACAtB,eAAOuB,EAAP,CAAUlB,eAAeiB,SAAzB;AACH,KAHD;AAIAF,OAAG,oBAAH,EAAyB,YAAM;AAC3BpB,eAAOwB,KAAP,CAAapB,WAAWK,IAAxB,EAA8BJ,eAAeI,IAA7C;AACH,KAFD;AAGAW,OAAG,wBAAH,EAA6B,YAAM;AAC/BpB,eAAOwB,KAAP,CAAapB,WAAWM,QAAxB,EAAkCL,eAAeK,QAAjD;AACH,KAFD;AAGAU,OAAG,qBAAH,EAA0B,YAAM;AAC5BpB,eAAOwB,KAAP,CAAapB,WAAWO,KAAxB,EAA+BN,eAAeM,KAA9C;AACH,KAFD;AAGH,CAvDD;AAwDA","file":"updateProduct.test.js","sourcesContent":["import * as assert from 'ptz-assert';\r\nimport * as Product from './index';\r\nimport { updateProduct } from './updateProduct';\r\ndescribe('updateProduct', () => {\r\n    var dbProduct, newProduct, updatedProduct;\r\n    beforeEach(() => {\r\n        dbProduct = Product.createProduct({\r\n            id: 'OldId',\r\n            name: 'OldProductName',\r\n            category: 'alanmarcell@live.com',\r\n            price: 100,\r\n            createdBy: {\r\n                dtCreated: new Date('1992-06-28'),\r\n                ip: '192.168.0.1'\r\n            }\r\n        });\r\n        newProduct = Product.createProduct({\r\n            id: 'NewId',\r\n            name: 'NewProductName',\r\n            category: 'angeloocana@gmail.com',\r\n            price: 200,\r\n            createdBy: {\r\n                dtCreated: new Date('1992-01-07'),\r\n                ip: '192.168.0.1',\r\n                user: {\r\n                    userName: 'AlanMarcell',\r\n                    displayName: 'Alan Marcell',\r\n                    email: 'alanmarcell@live.com',\r\n                    id: 'New_Id'\r\n                }\r\n            }\r\n        });\r\n        updatedProduct = updateProduct(dbProduct, newProduct);\r\n    });\r\n    it('Should not update id', () => {\r\n        assert.notEqual(newProduct.id, updatedProduct.id);\r\n    });\r\n    it('Should not update createdBy', () => {\r\n        assert.notEqual(newProduct.createdBy, updatedProduct.createdBy);\r\n    });\r\n    it('Should update dtChanged', () => {\r\n        newProduct.dtChanged = new Date('1992-06-28');\r\n        assert.ok(updatedProduct.dtChanged);\r\n        assert.ok(updatedProduct.dtChanged > newProduct.dtChanged);\r\n    });\r\n    it('Should add dtChanged', () => {\r\n        newProduct.dtChanged = null;\r\n        assert.ok(updatedProduct.dtChanged);\r\n    });\r\n    it('Should update name', () => {\r\n        assert.equal(newProduct.name, updatedProduct.name);\r\n    });\r\n    it('Should update category', () => {\r\n        assert.equal(newProduct.category, updatedProduct.category);\r\n    });\r\n    it('Should update price', () => {\r\n        assert.equal(newProduct.price, updatedProduct.price);\r\n    });\r\n});\r\n//# sourceMappingURL=updateProduct.test.js.map"]}